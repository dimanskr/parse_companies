# Курсовой проект по курсу «Работа с базами данных»

## Парсер работодателей и вакансий с HH.ru с загрузкой в БД

## Задача
**Написать консольное приложение, которое будет получать информацию о работодателях и вакансиях с платформы hh.ru через API,
спроектировать таблицы в БД PostgreSQL и загрузить полученные данные в созданные таблицы.**

### Пользователю доступны следующие действия в приложении:
- Получение списка всех компаний и количества вакансий у каждой компании
- Получение списка всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию
- Получение средней зарплаты по вакансиям.
- Получение списка всех вакансий, у которых зарплата выше средней по всем вакансиям
- Получение списка всех вакансий, в названии которых содержится ключевое слово
- Удаление содержимого базы данных
- Завершение программы

## Установка и запуск

1. Установите зависимости из файла `pyproject.toml`, используя Poetry:
    ```bash
    poetry install
    ```
2. если вы пользуетесь pip, можете создать файл requirements.txt:
    ```bash
    poetry export -f requirements.txt -o requirements.txt
    ```
3. Создайте в корневой директории проекта файл .env для переменных окружения БД
    ```
   POSTGRES_HOST=localhost
   POSTGRES_USER=postgres
   POSTGRES_PASSWORD=postgres
   POSTGRES_PORT=5432
   POSTGRES_DB=head_hunter
    ```
4. Запустите приложение:
    ```bash
    python main.py
    ```

## Структура проекта

- **main.py**: Главный файл проекта, ответственный за запуск.
- **config.py**: Содержит список ID компаний, параметры для запросов
  по vacancies и employers, а также словарь config для доступа к переменным окружения в файле .env.
- **.env**: файл с переменными окружения для доступа к БД, который необходимо создать самостоятельно.
- **src/**: Директория с основными модулями:
    - **api.py**: Модуль для работы с API.
    - **dbmanager.py**: Модуль для работы с БД PostgreSQL.
    - **employer.py**: Модуль для работы с объектами класса Employer.
    - **vacancy.py**: Модуль для работы с объектами класса Vacancy.
    - **mixins.py**: Модуль содержит миксины для расширения функциональности.
    - **utils.py**: Модуль содержит вспомогательные функции.

- **pyproject.toml**, **poetry.lock**: Файлы с зависимостями и конфигурацией Poetry.



## Автор
Dmitry Skryabin <dimanskr2@gmail.com>